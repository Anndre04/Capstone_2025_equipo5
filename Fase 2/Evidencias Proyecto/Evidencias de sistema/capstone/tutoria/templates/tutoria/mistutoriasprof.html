{% extends 'base.html' %}
{% load static %}
{% block title %}Mis Tutorías Publicadas - Tutorías Online{% endblock %}

{% block content %}
<div class="container-fluid px-3 px-md-4 px-lg-5 py-4">
  
  <!-- HEADER RESPONSIVE MEJORADO -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center">
        <div>
          <h1 class="h2 mb-2 fw-bold text-dark">Mis Tutorías Publicadas</h1>
          <p class="text-muted mb-0">Gestiona tus tutorías activas y publica nuevas</p>
        </div>
        <!-- BOTÓN PUBLICAR NUEVA TUTORÍA -->
        <button class="btn btn-primary mt-3 mt-md-0" data-bs-toggle="modal" data-bs-target="#publicarTutoriaModal">
          <i class="bi bi-plus-circle me-2"></i>Publicar nueva tutoría
        </button>
      </div>
    </div>
  </div>

  <!-- TARJETAS DE TUTORÍAS PUBLICADAS - DISEÑO MINIMALISTA -->
  <div class="row g-4">
    
    <!-- TUTORÍA 1: MATEMÁTICAS AVANZADAS -->
    <div class="col-12">
      <div class="card border-0 shadow-sm hover-card">
        <div class="card-body p-4">
          <div class="row align-items-center">
            <!-- INFORMACIÓN PRINCIPAL -->
            <div class="col-12 col-md-8 col-lg-9">
              <div class="d-flex align-items-start mb-3">
                <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-3 flex-shrink-0" 
                     style="width: 50px; height: 50px;">
                  <i class="bi bi-calculator text-primary fs-5"></i>
                </div>
                <div class="flex-grow-1">
                  <h5 class="card-title mb-1 fw-bold text-dark">Matemáticas Avanzadas - Álgebra Lineal</h5>
                  <div class="d-flex align-items-center flex-wrap gap-2 mt-2">
                    <span class="badge bg-success bg-opacity-10 text-success border-0">
                      <i class="bi bi-person-check me-1"></i>Con estudiante
                    </span>
                    <span class="badge bg-primary bg-opacity-10 text-primary border-0">Ana García</span>
                    <span class="badge bg-secondary bg-opacity-10 text-secondary border-0">Universitario</span>
                  </div>
                </div>
              </div>
              
              <p class="text-muted mb-4">Tutoría completa de álgebra lineal para estudiantes universitarios. Enfoque en espacios vectoriales, transformaciones lineales y aplicaciones prácticas.</p>
              
              <!-- INFORMACIÓN DETALLADA EN GRID MEJORADA -->
              <div class="row g-3">
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Precio</h6>
                      <strong class="text-success fs-6">$25/hora</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Duración</h6>
                      <strong class="fs-6">60 min</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Sesiones</h6>
                      <strong class="fs-6">12</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Rating</h6>
                      <div>
                        <span class="text-warning">
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-half"></i>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- FECHA Y ESTADO -->
              <div class="mt-4 pt-3 border-top">
                <div class="d-flex justify-content-between align-items-center">
                  <small class="text-muted">
                    <i class="bi bi-calendar me-1"></i>Publicado el 15 Sep 2024
                  </small>
                  <span class="badge bg-success bg-opacity-10 text-success border-0">
                    <i class="bi bi-check-circle me-1"></i>Activa
                  </span>
                </div>
              </div>
            </div>
            
            <!-- ACCIONES -->
            <div class="col-12 col-md-4 col-lg-3 mt-4 mt-md-0">
              <div class="d-flex flex-column gap-2">
                <button class="btn btn-outline-primary">
                  <i class="bi bi-pencil me-2"></i>Editar
                </button>
                <button class="btn btn-outline-secondary">
                  <i class="bi bi-eye me-2"></i>Ver detalles
                </button>
                <button class="btn btn-outline-danger">
                  <i class="bi bi-pause-circle me-2"></i>Pausar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- TUTORÍA 2: CÁLCULO DIFERENCIAL -->
    <div class="col-12">
      <div class="card border-0 shadow-sm hover-card">
        <div class="card-body p-4">
          <div class="row align-items-center">
            <!-- INFORMACIÓN PRINCIPAL -->
            <div class="col-12 col-md-8 col-lg-9">
              <div class="d-flex align-items-start mb-3">
                <div class="rounded-circle bg-info bg-opacity-10 d-flex align-items-center justify-content-center me-3 flex-shrink-0" 
                     style="width: 50px; height: 50px;">
                  <i class="bi bi-graph-up text-info fs-5"></i>
                </div>
                <div class="flex-grow-1">
                  <h5 class="card-title mb-1 fw-bold text-dark">Cálculo Diferencial e Integral</h5>
                  <div class="d-flex align-items-center flex-wrap gap-2 mt-2">
                    <span class="badge bg-warning bg-opacity-10 text-warning border-0">
                      <i class="bi bi-clock me-1"></i>En espera
                    </span>
                    <span class="badge bg-primary bg-opacity-10 text-primary border-0">Bachillerato</span>
                    <span class="badge bg-secondary bg-opacity-10 text-secondary border-0">Nivel medio</span>
                  </div>
                </div>
              </div>
              
              <p class="text-muted mb-4">Fundamentos de cálculo para bachillerato. Límites, derivadas e integrales con ejemplos prácticos y ejercicios resueltos.</p>
              
              <!-- INFORMACIÓN DETALLADA EN GRID MEJORADA -->
              <div class="row g-3">
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Precio</h6>
                      <strong class="text-success fs-6">$22/hora</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Duración</h6>
                      <strong class="fs-6">60 min</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Sesiones</h6>
                      <strong class="fs-6">0</strong>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 col-sm-3">
                  <div class="text-center">
                    <div class="border rounded p-3">
                      <h6 class="text-muted mb-2 small fw-normal">Rating</h6>
                      <div>
                        <span class="text-warning">
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star"></i>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- FECHA Y ESTADO -->
              <div class="mt-4 pt-3 border-top">
                <div class="d-flex justify-content-between align-items-center">
                  <small class="text-muted">
                    <i class="bi bi-calendar me-1"></i>Publicado el 10 Sep 2024
                  </small>
                  <span class="badge bg-warning bg-opacity-10 text-warning border-0">
                    <i class="bi bi-clock me-1"></i>En espera
                  </span>
                </div>
              </div>
            </div>
            
            <!-- ACCIONES -->
            <div class="col-12 col-md-4 col-lg-3 mt-4 mt-md-0">
              <div class="d-flex flex-column gap-2">
                <button class="btn btn-outline-primary">
                  <i class="bi bi-pencil me-2"></i>Editar
                </button>
                <button class="btn btn-outline-secondary">
                  <i class="bi bi-eye me-2"></i>Ver detalles
                </button>
                <button class="btn btn-outline-success">
                  <i class="bi bi-play-circle me-2"></i>Activar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL PARA PUBLICAR NUEVA TUTORÍA - MEJORADO -->
<div class="modal fade" id="publicarTutoriaModal" tabindex="-1" aria-labelledby="publicarTutoriaModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 shadow">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold text-dark" id="publicarTutoriaModalLabel">
          <i class="bi bi-plus-circle me-2"></i>Publicar Nueva Tutoría
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body pt-0">
        <form>
          <div class="row g-3">
            <div class="col-12">
              <label class="form-label fw-semibold">Título de la Tutoría</label>
              <input type="text" class="form-control border" placeholder="Ej: Matemáticas Avanzadas - Álgebra Lineal">
            </div>
            
            <div class="col-12">
              <label class="form-label fw-semibold">Descripción</label>
              <textarea class="form-control border" rows="3" placeholder="Describe los temas que cubrirás en la tutoría..."></textarea>
            </div>
            
            <div class="col-md-6">
              <label class="form-label fw-semibold">Precio por hora</label>
              <div class="input-group">
                <span class="input-group-text bg-light border">$</span>
                <input type="number" class="form-control border-start-0" placeholder="25" value="25">
              </div>
            </div>
            
            <div class="col-md-6">
              <label class="form-label fw-semibold">Duración</label>
              <select class="form-select border">
                <option value="30">30 minutos</option>
                <option value="60" selected>60 minutos</option>
                <option value="90">90 minutos</option>
                <option value="120">120 minutos</option>
              </select>
            </div>
            
            <div class="col-md-6">
              <label class="form-label fw-semibold">Nivel</label>
              <select class="form-select border">
                <option value="primaria">Primaria</option>
                <option value="secundaria">Secundaria</option>
                <option value="bachillerato" selected>Bachillerato</option>
                <option value="universitario">Universitario</option>
              </select>
            </div>
            
            <div class="col-md-6">
              <label class="form-label fw-semibold">Área de Conocimiento</label>
              <select class="form-select border">
                <option value="matematicas" selected>Matemáticas</option>
                <option value="fisica">Física</option>
                <option value="quimica">Química</option>
                <option value="programacion">Programación</option>
                <option value="ingles">Inglés</option>
                <option value="historia">Historia</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0 pt-0">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary">Publicar Tutoría</button>
      </div>
    </div>
  </div>
</div>

<style>
.hover-card {
    transition: all 0.3s ease;
    border: 1px solid rgba(0,0,0,0.05);
}

.hover-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1) !important;
}

.card {
    border-radius: 12px;
}

.badge {
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.4em 0.7em;
}

.btn {
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s ease;
}

.btn:hover {
    transform: translateY(-1px);
}

.modal-content {
    border-radius: 16px;
}

.border {
    border-color: #e9ecef !important;
}

.text-warning {
    color: #ffc107 !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .card-body {
        padding: 1.5rem !important;
    }
    
    .modal-dialog {
        margin: 1rem;
    }
    
    .btn {
        font-size: 0.875rem;
    }
}

/* Animaciones de entrada */
.card {
    animation: fadeInUp 0.6s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('✅ Mis Tutorías Profesor - Vista cargada');
    
    // Efectos hover para cards
    const cards = document.querySelectorAll('.hover-card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transition = 'all 0.3s ease';
        });
    });
    
    // Funcionalidad de botones
    const editButtons = document.querySelectorAll('.btn-outline-primary');
    editButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Simular funcionalidad de edición
            const cardTitle = this.closest('.card').querySelector('.card-title').textContent;
            console.log(`Editando: ${cardTitle}`);
        });
    });
    
    // Inicializar tooltips si es necesario
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
});
</script>
{% endblock %}